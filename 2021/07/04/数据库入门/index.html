<!DOCTYPE html><html class="appearance-user-can-set" lang="en"><head><meta charset="UTF-8"><title>数据库入门</title><meta name="description" content="Stay Acute."><meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, initial-scale=1"><!-- Google Analytics --><!-- End Google Analytics -->
<!-- Baidu Analytics --><!-- End Baidu Analytics --><link rel="icon" href="/images/favicon.ico"><link rel="stylesheet" href="/style/common/bulma.css"><link rel="stylesheet" href="/style/base.css"><link rel="stylesheet" href="/style/common/helper.css"><script src="/js/common.js"></script><link rel="stylesheet" href="/style/post.css"><link rel="stylesheet" href="/style/themes/highlight-theme-light.css"><link rel="stylesheet" href="/style/common/jquery.fancybox.min.css"><script src="/js/highlight.pack.js"></script><meta name="description" content=" SQL语法
注：' ' 指数字或字符串

查询比较重要，占业务的绝大多数，创建放后面

 SELECT
SELECT 字段 FROM 表;
SELECT * FROM 表;
SELECT DISTINCT 字段 FROM 表;

 TOP
SELECT TOP 记录数 * FROM 表;
SELECT TOP 百分数 PERSENT FROM 表;

 WHERE
SELECT * FROM 表 WHERE 字段+运算符+' ';
SELECT * FROM 表 WHERE (字段A=' ' OR 字段A=' ') AND 列B=' ';
SELECT * FROM 表 WHERE 字段A&amp;lt;&amp;gt;' ' OR 字段A is null;
SELECT * FROM 表 WHERE 字段A&amp;gt;AL.."><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head><body class="is-flex is-flex-direction-column"><header class="header-widget is-flex-shrink-0 is-hidden-mobile"><div class="container is-fullhd is-flex is-justify-content-space-between is-align-items-center is-full-height"><section class="is-hidden-mobile is-flex-shrink-0"><h2><a href="/">Rockcor's blog</a></h2></section><h3 class="is-hidden-mobile is-family-serif is-full-height is-flex is-align-items-center is-flex-shrink-0"><div class="is-full-height" id="postTopic"><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">数据库入门</p><p class="is-full-height is-flex-shrink-0 is-flex is-align-items-center is-justify-content-center">Click back to the top</p></div></h3><aside class="is-flex-shrink-0"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3><h3 class="is-inline-block"><a href="/tags">tags</a></h3></aside></div></header><header class="is-flex header-widget is-flex-shrink-0 is-align-items-center is-justify-content-center is-hidden-tablet"><h3 class="is-inline-block"><a href="/">Home</a></h3><h3 class="is-inline-block"><a href="/about">About</a></h3><h3 class="is-inline-block"><a href="/archives">Archives</a></h3><h3 class="is-inline-block"><a href="/tags">tags</a></h3></header><main><main class="container is-max-widescreen content section post-page pt-4 px-4"><div class="columns is-flex-desktop is-justify-content-center is-flex-direction-row-reverse"><div class="column is-3 is-hidden-mobile"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#sql%E8%AF%AD%E6%B3%95"><span class="toc-text"> SQL语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#select"><span class="toc-text"> SELECT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#top"><span class="toc-text"> TOP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#where"><span class="toc-text"> WHERE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#like"><span class="toc-text"> LIKE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#as"><span class="toc-text"> AS&#x2F;@</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#into"><span class="toc-text"> INTO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#order-by"><span class="toc-text"> ORDER BY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#insert-into"><span class="toc-text"> INSERT INTO</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#update"><span class="toc-text"> UPDATE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#delete"><span class="toc-text"> DELETE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#group-by"><span class="toc-text"> GROUP BY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#join"><span class="toc-text"> JOIN</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unionall"><span class="toc-text"> UNION(ALL)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#view"><span class="toc-text"> VIEW</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#index"><span class="toc-text"> INDEX</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#create-database"><span class="toc-text"> CREATE DATABASE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#create-table"><span class="toc-text"> CREATE TABLE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#alter-table"><span class="toc-text"> ALTER TABLE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%94%B9%E7%BA%A6%E6%9D%9F"><span class="toc-text"> 更改约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%88%97%E6%9B%B4%E6%94%B9%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text"> 添加列&#x2F;更改数据类型</span></a></li></ol></li></ol></li></ol></div><div class="column is-9"><header class="my-4"><a href="/tags/SQL"><i class="tag post-item-tag">SQL</i></a></header><h1 class="mt-0 mb-1 is-family-serif" id="postTitle">数据库入门</h1><time class="has-text-grey" datetime="2021-07-04T14:10:48.000Z">2021-07-04</time><article class="mt-2 post-content"><h1 id="sql语法"><a class="markdownIt-Anchor" href="#sql语法"></a> SQL语法</h1>
<p><strong>注：</strong><code>' ' 指数字或字符串</code></p>
<blockquote>
<p>查询比较重要，占业务的绝大多数，创建放后面</p>
</blockquote>
<h2 id="select"><a class="markdownIt-Anchor" href="#select"></a> SELECT</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> 字段 <span class="hljs-keyword">FROM</span> 表;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表;
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> 字段 <span class="hljs-keyword">FROM</span> 表;
</code></pre>
<h2 id="top"><a class="markdownIt-Anchor" href="#top"></a> TOP</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> TOP 记录数 <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表;
<span class="hljs-keyword">SELECT</span> TOP 百分数 PERSENT <span class="hljs-keyword">FROM</span> 表;
</code></pre>
<h2 id="where"><a class="markdownIt-Anchor" href="#where"></a> WHERE</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> 字段<span class="hljs-operator">+</span>运算符<span class="hljs-operator">+</span><span class="hljs-string">' '</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> (字段A<span class="hljs-operator">=</span><span class="hljs-string">' '</span> <span class="hljs-keyword">OR</span> 字段A<span class="hljs-operator">=</span><span class="hljs-string">' '</span>) <span class="hljs-keyword">AND</span> 列B<span class="hljs-operator">=</span><span class="hljs-string">' '</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> 字段A<span class="hljs-operator">&lt;&gt;</span><span class="hljs-string">' '</span> <span class="hljs-keyword">OR</span> 字段A <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> 字段A<span class="hljs-operator">&gt;</span><span class="hljs-keyword">ALL</span>(… <span class="hljs-keyword">and</span> 字段A <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">NULL</span>);
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> 字段 <span class="hljs-keyword">IN</span> (<span class="hljs-string">' '</span>,<span class="hljs-string">' '</span>);
</code></pre>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>=、&lt;&gt;</td>
<td>等于、不等于</td>
</tr>
<tr>
<td>&lt;、&gt;、&lt;=、&gt;=</td>
<td>小于、大于、小于等于、大于等于</td>
</tr>
<tr>
<td>(NOT)BETWEEN…AND…</td>
<td>(不)在某个范围内</td>
</tr>
<tr>
<td>(NOT)LIKE</td>
<td>(不)匹配某种模式</td>
</tr>
</tbody>
</table>
<h2 id="like"><a class="markdownIt-Anchor" href="#like"></a> LIKE</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> 字段 <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%_[][!]'</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> 字段 <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%'</span>;
</code></pre>
<h2 id="as"><a class="markdownIt-Anchor" href="#as"></a> AS/@</h2>
<pre class="highlight"><code class="sql"><span class="hljs-comment">-- 变量名</span>
<span class="hljs-keyword">SET</span> <span class="hljs-variable">@X</span><span class="hljs-operator">=</span><span class="hljs-string">' '</span>

<span class="hljs-comment">-- 表别名</span>
<span class="hljs-keyword">SELECT</span> 别名.字段 <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">AS</span> 别名;

<span class="hljs-comment">-- 字段别名</span>
<span class="hljs-keyword">SELECT</span> 字段 <span class="hljs-keyword">AS</span> 别名 <span class="hljs-keyword">FROM</span> 表;
</code></pre>
<h2 id="into"><a class="markdownIt-Anchor" href="#into"></a> INTO</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">INTO</span> 新表 <span class="hljs-keyword">FROM</span> 表;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">INTO</span> 新表 <span class="hljs-keyword">IN</span> 数据库 <span class="hljs-keyword">FROM</span> 表;
</code></pre>
<h2 id="order-by"><a class="markdownIt-Anchor" href="#order-by"></a> ORDER BY</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 字段
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 字段 <span class="hljs-keyword">DESC</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 字段A, 字段B;

<span class="hljs-comment">-- 跳过第一行，取接下来的三行</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> 字段 LIMIT <span class="hljs-number">1</span>,<span class="hljs-number">3</span>;
</code></pre>
<h2 id="insert-into"><a class="markdownIt-Anchor" href="#insert-into"></a> INSERT INTO</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> 表 (字段A, 字段B) <span class="hljs-keyword">VALUES</span> (值<span class="hljs-number">1</span>, 值<span class="hljs-number">2</span>);
</code></pre>
<h2 id="update"><a class="markdownIt-Anchor" href="#update"></a> UPDATE</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">UPDATE</span> 表 <span class="hljs-keyword">SET</span> 字段<span class="hljs-operator">=</span><span class="hljs-string">' '</span> <span class="hljs-keyword">WHERE</span> 字段<span class="hljs-operator">=</span><span class="hljs-string">' '</span>;
</code></pre>
<h2 id="delete"><a class="markdownIt-Anchor" href="#delete"></a> DELETE</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> 字段<span class="hljs-operator">=</span><span class="hljs-string">' '</span>;
<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> 表;

<span class="hljs-comment">-- 主键继承之前的序号</span>
<span class="hljs-keyword">DELETE</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> 表;

<span class="hljs-comment">-- 主键重新开始</span>
<span class="hljs-keyword">TRUNCATE</span> <span class="hljs-keyword">TABLE</span> 表;
</code></pre>
<h2 id="group-by"><a class="markdownIt-Anchor" href="#group-by"></a> GROUP BY</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> 聚合函数(待统计的字段) <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> 存在重复的字段;
</code></pre>
<table>
<thead>
<tr>
<th>函数</th>
<th>描述</th>
<th>其他</th>
</tr>
</thead>
<tbody>
<tr>
<td>count()</td>
<td>条数</td>
<td>不计入null 值</td>
</tr>
<tr>
<td>sum()</td>
<td>求和</td>
<td>不计入null 值</td>
</tr>
<tr>
<td>max()</td>
<td>最大值</td>
<td>时间字段代表最近最晚的时间</td>
</tr>
<tr>
<td>min()</td>
<td>最小值</td>
<td>时间字段代表最早的时间</td>
</tr>
<tr>
<td>avg()</td>
<td>平均值</td>
<td>不计入null 值</td>
</tr>
</tbody>
</table>
<h2 id="join"><a class="markdownIt-Anchor" href="#join"></a> JOIN</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> 字段 <span class="hljs-keyword">FROM</span> 左表 <span class="hljs-keyword">JOIN</span> 右表 <span class="hljs-keyword">ON</span> 左表.字段<span class="hljs-operator">=</span>右表.字段;
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span><span class="hljs-operator">/</span><span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span><span class="hljs-operator">/</span><span class="hljs-keyword">FULL</span> <span class="hljs-keyword">JOIN</span>
</code></pre>
<h2 id="unionall"><a class="markdownIt-Anchor" href="#unionall"></a> UNION(ALL)</h2>
<ul>
<li>列名不一致时，以第一条sql语句的列名对齐</li>
<li>使用union查询会将重复的行过滤掉，UNION ALL保留重复行</li>
</ul>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">SELECT</span> ...
<span class="hljs-keyword">UNION</span>
<span class="hljs-keyword">SELECT</span> ...;
</code></pre>
<h2 id="view"><a class="markdownIt-Anchor" href="#view"></a> VIEW</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">VIEW</span> 视图 <span class="hljs-keyword">AS</span> <span class="hljs-keyword">SELECT</span> 字段 <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> ...;
<span class="hljs-keyword">SHOW</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 视图<span class="hljs-operator">/</span>表;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">OR</span> REPLACE <span class="hljs-keyword">VIEW</span> 视图 <span class="hljs-keyword">AS</span> <span class="hljs-keyword">SELECT</span> 字段 <span class="hljs-keyword">FROM</span> 表 <span class="hljs-keyword">WHERE</span> ...;
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">VIEW</span> 视图;
</code></pre>
<h2 id="index"><a class="markdownIt-Anchor" href="#index"></a> INDEX</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">CREATE</span> INDEX 索引 <span class="hljs-keyword">ON</span> 表(字段(LENGTH));
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">UNIQUE</span> INDEX 索引 <span class="hljs-keyword">ON</span> 表(字段(LENGTH));
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">ADD</span> 索引类 索引名 (字段A(LENGTH), 字段B(LENGTH));
<span class="hljs-keyword">SHOW</span> INDEX <span class="hljs-keyword">FROM</span> 表;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">DROP</span> INDEX 索引名
</code></pre>
<table>
<thead>
<tr>
<th>索引类</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>INDEX</td>
<td style="text-align:left">普通索引</td>
</tr>
<tr>
<td>UNIQUE</td>
<td style="text-align:left">唯一索引</td>
</tr>
<tr>
<td>FULLTEXT</td>
<td style="text-align:left">全文索引(MyISAM)</td>
</tr>
<tr>
<td>组合索引</td>
<td style="text-align:left">最左前缀原则</td>
</tr>
</tbody>
</table>
<h2 id="create-database"><a class="markdownIt-Anchor" href="#create-database"></a> CREATE DATABASE</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">CREATE</span> DATABASE IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> 数据库 <span class="hljs-keyword">default</span> <span class="hljs-type">character</span> <span class="hljs-keyword">set</span> utf8mb4 <span class="hljs-keyword">collate</span> utf8mb4_unicode_ci;
<span class="hljs-keyword">SHOW</span> DATABASES;
<span class="hljs-keyword">DROP</span> DATABASE 数据库;
</code></pre>
<h2 id="create-table"><a class="markdownIt-Anchor" href="#create-table"></a> CREATE TABLE</h2>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> 表 
(
	字段A 数据类型 <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span><span class="hljs-operator">=</span><span class="hljs-string">''</span>,
	字段B 数据类型,<span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
 	<span class="hljs-keyword">CONSTRAINT</span> 约束名 约束类 (字段A, 字段B),
    索引类 索引名 (字段(LENGTH))
)AUTO_INCREMENT<span class="hljs-operator">=</span><span class="hljs-number">1</span>;
<span class="hljs-keyword">SHOW</span> TABLES;
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> 表;
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">integer(size)<br>int(size)<br>smallint(size)<br>tinyint(size)</td>
<td style="text-align:left">仅容纳整数。在括号内规定数字的最大位数。</td>
</tr>
<tr>
<td style="text-align:left">decimal(size,d)<br>numeric(size,d)</td>
<td style="text-align:left">容纳带有小数的数字。“size” 规定数字的最大位数。“d” 规定小数点右侧的最大位数。</td>
</tr>
<tr>
<td style="text-align:left">char(size)</td>
<td style="text-align:left">容纳固定长度的字符串（可容纳字母、数字以及特殊字符）。在括号中规定字符串的长度。</td>
</tr>
<tr>
<td style="text-align:left">varchar(size)</td>
<td style="text-align:left">容纳可变长度的字符串（可容纳字母、数字以及特殊的字符）。在括号中规定字符串的最大长度。</td>
</tr>
<tr>
<td style="text-align:left">date(yyyymmdd)</td>
<td style="text-align:left">容纳日期。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>约束</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>NOT NULL</td>
<td>防止某字段为NULL</td>
</tr>
<tr>
<td>UNIQUE</td>
<td>防止某字段重复值</td>
</tr>
<tr>
<td>PRIMARY KEY AUTO_INCREMENT</td>
<td>设为主键，防NULL防重复，自增</td>
</tr>
<tr>
<td>FOREIGN KEY…REFERENCES…</td>
<td>设为另一表的主键</td>
</tr>
<tr>
<td>DEFAULT</td>
<td>设置默认值</td>
</tr>
<tr>
<td>CHECK(OPERATOR/AND/OR)</td>
<td>自定义约束</td>
</tr>
</tbody>
</table>
<h2 id="alter-table"><a class="markdownIt-Anchor" href="#alter-table"></a> ALTER TABLE</h2>
<h3 id="更改约束"><a class="markdownIt-Anchor" href="#更改约束"></a> 更改约束</h3>
<pre class="highlight"><code class="sql"><span class="hljs-comment">-- NOT NULL的更改</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 MODIFY <span class="hljs-keyword">COLUMN</span> 字段 数据类型;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 MODIFY <span class="hljs-keyword">COLUMN</span> 字段 数据类型 <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;

<span class="hljs-comment">-- DEFAULT的更改</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">ALTER</span> 字段 <span class="hljs-keyword">SET</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-string">' '</span>;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">ALTER</span> 字段 <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">DEFAULT</span>;

<span class="hljs-comment">-- 其他约束的更改</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">ADD</span> 约束类(字段A, 字段B);
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">CONSTRAINT</span> 约束名 约束类 (字段A, 字段B);
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">CONSTRAINT</span> 约束名;
</code></pre>
<h3 id="添加列更改数据类型"><a class="markdownIt-Anchor" href="#添加列更改数据类型"></a> 添加列/更改数据类型</h3>
<pre class="highlight"><code class="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">ADD</span> 新字段 数据类型;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 MODIFY <span class="hljs-keyword">COLUMN</span> 字段 新数据类型;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 CHANGE <span class="hljs-keyword">COLUMN</span> 字段 新字段名 新数据类型;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> 表 <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">COLUMN</span> 字段;
</code></pre>
</article><section class="jump-container is-flex is-justify-content-space-between my-6"><!-- em is empty placeholder--><a class="button is-default" href="/2021/07/11/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9B%E9%98%B6/" title="数据库进阶"><i class="iconfont icon-prev mr-2 has-text-grey"></i><span class="has-text-weight-semibold">Previous: 数据库进阶</span></a><a class="button is-default" href="/2021/07/04/%E5%A4%A7%E5%AE%B6%E7%9A%84%E6%97%A5%E8%AF%AD%E5%88%9D%E7%BA%A7%E4%B8%8A/" title="大家的日语初级上"><span class="has-text-weight-semibold">Next: 大家的日语初级上</span><i class="iconfont icon-next ml-2 has-text-grey"></i></a></section><article class="mt-6 comment-container"><script async repo="rockcor/blog-comment" src="https://utteranc.es/client.js" issue-term="pathname" theme="preferred-color-scheme"></script></article></div></div></main></main><footer class="is-flex is-flex-direction-column is-align-items-center is-flex-shrink-0 is-family-serif"><section class="sns-container"><!-- Github--><a title="github" target="_blank" rel="noopener nofollow" href="//github.com/rockcor"><i class="iconfont icon-github"></i></a><!-- Ins--><!-- RSS--><!-- 知乎--><!-- 领英--><!-- 脸书--></section><p><span>Copyright ©</span><span> Rockcor 2023</span></p><div class="is-flex is-justify-content-center is-flex-wrap-wrap"><p>Powered by Hexo &verbar;&nbsp;</p><p class="is-flex is-justify-content-center"><a title="Hexo theme author" target="_blank" rel="noopener" href="//github.com/haojen">Theme by Haojen&nbsp;</a></p><div style="margin-top: 2px"><a class="github-button" title="github-button" target="_blank" rel="noopener" href="https://github.com/haojen/hexo-theme-Claudia" data-color-scheme="no-preference: light; light: light; dark: dark;" data-show-count="true"></a></div></div><div><span></span></div></footer><script async defer src="https://buttons.github.io/buttons.js"></script><script src="/js/jquery-3.6.1.min.js"></script><script src="/js/jquery-fancybox.min.js"></script><script src="/js/img_zoom.js"></script><script src="/js/post.js"></script></body></html>